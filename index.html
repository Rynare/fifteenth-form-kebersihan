<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fifteenth forms</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="./style.css">
    <script src="./script/sub-form.js"></script>
    <script src="./script/range-slider.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>

<body class="max-w-sm max-h-screen min-h-screen mx-auto">

    <header class="sticky top-0 z-10 w-full">
        <nav class="flex items-center justify-between px-5 py-2">
            <img src="./logo-h.png" alt="" style="height: 18px; width: auto;">
            <span class="flex items-center gap-1 px-2 py-2 text-center text-black bg-white rounded-lg ms-auto">
                <svg width="10" height="10" viewBox="0 0 10 10" fill="currentColor" xmlns="http://www.w3.org/2000/svg"
                    class="mb-[1.5px]">
                    <path
                        d="M2.5 0.3125C2.5 0.22962 2.46708 0.150134 2.40847 0.0915291C2.34987 0.032924 2.27038 0 2.1875 0C2.10462 0 2.02513 0.032924 1.96653 0.0915291C1.90792 0.150134 1.875 0.22962 1.875 0.3125V0.625H1.25C0.918479 0.625 0.600537 0.756696 0.366117 0.991117C0.131696 1.22554 0 1.54348 0 1.875L0 2.5H10V1.875C10 1.54348 9.8683 1.22554 9.63388 0.991117C9.39946 0.756696 9.08152 0.625 8.75 0.625H8.125V0.3125C8.125 0.22962 8.09208 0.150134 8.03347 0.0915291C7.97487 0.032924 7.89538 0 7.8125 0C7.72962 0 7.65013 0.032924 7.59153 0.0915291C7.53292 0.150134 7.5 0.22962 7.5 0.3125V0.625H2.5V0.3125ZM10 8.75V3.125H0V8.75C0 9.08152 0.131696 9.39946 0.366117 9.63388C0.600537 9.8683 0.918479 10 1.25 10H8.75C9.08152 10 9.39946 9.8683 9.63388 9.63388C9.8683 9.39946 10 9.08152 10 8.75ZM7.8125 4.375H8.4375C8.52038 4.375 8.59987 4.40792 8.65847 4.46653C8.71708 4.52513 8.75 4.60462 8.75 4.6875V5.3125C8.75 5.39538 8.71708 5.47487 8.65847 5.53347C8.59987 5.59208 8.52038 5.625 8.4375 5.625H7.8125C7.72962 5.625 7.65013 5.59208 7.59153 5.53347C7.53292 5.47487 7.5 5.39538 7.5 5.3125V4.6875C7.5 4.60462 7.53292 4.52513 7.59153 4.46653C7.65013 4.40792 7.72962 4.375 7.8125 4.375Z"
                        fill="currentColor" />
                </svg>
                <span class="current-date"></span>
            </span>
        </nav>
        <div class="relative hero-wrapper">
            <div class="hero-img rounded-t-2xl"></div>
            <div
                class="absolute top-0 bottom-0 left-0 right-0 flex flex-col mt-auto text-white backdrop-brightness-50 rounded-t-2xl">
                <div class="flex flex-col items-center m-auto">
                    <a href="#" class="font-bold fifteenth-logo">Fifteen<span>TH</span>Group</a>
                    <a href="#" class="font-bold fifteenth-caution text-[15px]"></a>
                </div>
            </div>
        </div>
    </header>

    <main id="root" class="sticky min-h-full z-40 top-[47px] mt-[-30px] rounded-t-2xl">
        <section class="relative min-h-full pb-5 form-wrapper rounded-t-2xl">
            <div class="sticky top-0 z-20 flex justify-between px-3 py-3 section-header">
                <div class="flex items-center px-3 py-1 bg-white rounded-lg gap-x-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                        class="bi bi-pin-map-fill" viewBox="0 0 16 16">
                        <path fill-rule="evenodd"
                            d="M3.1 11.2a.5.5 0 0 1 .4-.2H6a.5.5 0 0 1 0 1H3.75L1.5 15h13l-2.25-3H10a.5.5 0 0 1 0-1h2.5a.5.5 0 0 1 .4.2l3 4a.5.5 0 0 1-.4.8H.5a.5.5 0 0 1-.4-.8z" />
                        <path fill-rule="evenodd"
                            d="M4 4a4 4 0 1 1 4.5 3.969V13.5a.5.5 0 0 1-1 0V7.97A4 4 0 0 1 4 3.999z" />
                    </svg>
                    <p class="font-extrabold">Cafe <span class="cafe-location">Lombok</span></p>
                </div>
            </div>
            <form action="" enctype="multipart/form-data" class="flex flex-col h-full mx-3 mt-4 gap-y-4">
                <input type="date" name="tanggal_laporan" id="date-submit" class="py-2 pe-5 ps-2 focus:outline-none"
                    hidden />
                <sub-form task-text="Kebersihan body tong sampah depan dan kondisi tertutup.
" name="kebersihan-tong-sampah" class="rounded-md">
                </sub-form>
                <sub-form
                    task-text="Kebersihan taman depan dan tanaman rapi teratur, tanpa ada 1 pot pun yang kosong, tanpa ada tanaman yang gepeng tergencet siapapun."
                    name="kebersihan-taman-depan"></sub-form>
                <sub-form task-text="Kebersihan tempat taruh helm (tembok hitam I'm Lost)
" name="kebersihan-tempat-helm"></sub-form>
                <sub-form
                    task-text="Kebersihan track reel pintu geser perbatasan sebelum masuk ke bar dan kebersihan SUBWOOFER"
                    name="kebersihan-track-reel"></sub-form>
                <sub-form
                    task-text="Kondisi tanaman di sekat bangku area outdoor, tanaman di rak tembok sharing table, tanaman di 2 sharing table, meja yang menghadap lukisan, dan setiap meja lainnya, serta kelurusan lukisan di dinding."
                    name="kondisi-tanaman-outdoor"></sub-form>
                <sub-form
                    task-text="Kebersihan GANG menuju mushola, tidak boleh ada barang berserakan. kebersihan washtafel sebelah mushola, dan taman di depan bar 100. Pintu menuju mushola selalu tertutup."
                    name="kebersihan-gang-musholla"></sub-form>
                <sub-form task-text="Kebersihan WC, tanaman di wc dan kerapian wc." name="kebersihan-wc"></sub-form>
                <sub-form task-text="Jebakan tikus setelah pintu bar 100." name="jebakan-tikus"></sub-form>
                <sub-form task-text="Kebersihan dining room." name="kebersihan-dining-room"></sub-form>
                <sub-form task-text="Kebersihan ruang vip sofa hijau. Karpet dan sofa. Meja kecil. Meja buku buku."
                    name="kebersihan-ruang-vip"></sub-form>
                <sub-form
                    task-text="Kebersihan indoor room, karpet dan sofa, bantalan sofa diatur lurus rapi. Piano dan rak sebelah piano, tanaman di sekatan bangku indoor, tanaman di depan jendela sekat baliknya vip sofa hijau. Kelurusan lukisan semua. Kisi kisi hijau dibalik dining room bebas debu. Tanaman monstera dll. Kepala kap lampu harus lurus semua, kalau tidak lurus cari tukang untuk luruskan. Sudut sudut pojok sofa, dekat piano dan tanaman, dekat rak buku."
                    name="kebersihan-indoor-room"></sub-form>
                <sub-form
                    task-text="Kebersihan bar, pajangan kasir rapi, showcase rapi. Pintu gang selalu tertutup. Laci di bawah wastafel dan ice bin kering dan bersih. Kolong bawah mesin kopi bersih dan rapi, bawah kasir, celah antara kulkas, celah freezer."
                    name="kebersihan-bar"></sub-form>
                <sub-form
                    task-text="Tidak boleh ada tumpukan paket menggunung, harus didistribusikan dan diantar ke yang bersangkutan."
                    name="kerapian-tumpukan-paket"></sub-form>
                <sub-form task-text="Kerapian botol botol bir, yang kosong sudah terkelompokkan kembali di kratnya."
                    name="kerapian-botol-bir"></sub-form>
                <button type="submit" class="mx-20 py-2 text-white rounded-lg bg-black">Kirim</button>
            </form>
        </section>
    </main>

    <div id="myModal"
        class="fixed flex inset-0 z-50  items-center justify-center w-full h-full overflow-y-auto bg-black bg-opacity-50">
        <div class="relative w-[300px] p-5 mx-auto my-auto bg-white rounded-md">
            <h2 class="mb-5 text-2xl font-bold">Masukkan Detail Anda</h2>
            <form id="detailForm">
                <div class="mb-4">
                    <label for="name" class="block mb-1">Nama</label>
                    <input type="text" id="name" required class="w-full border-2 border-gray-300 p-2 rounded-md" />
                </div>
                <div class="mb-4">
                    <label for="location" class="block mb-1">Lokasi</label>
                    <select id="location" required class="w-full border-2 border-gray-300 p-2 rounded-md">
                        <option value="">Pilih Lokasi</option>
                        <option value="Lombok">Lombok</option>
                        <option value="Bali">Bali</option>
                        <option value="Jakarta">Jakarta</option>
                    </select>
                </div>
                <button type="submit" class="w-full py-2 text-white bg-black rounded-md">Kirim</button>
            </form>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const modal = document.getElementById('myModal');
            const detailForm = document.getElementById('detailForm');
            const cafeLocation = document.querySelector('.cafe-location');

            modal.classList.remove('hidden');

            detailForm.addEventListener('submit', (event) => {
                event.preventDefault();
                const name = document.getElementById('name').value;
                const location = document.getElementById('location').value;
                cafeLocation.textContent = location;
                modal.classList.add('hidden');
            });
        });
    </script>
    <script>
        document.querySelector("form .form-footer button").addEventListener("click", evt => {
            const form = document.querySelector("form")
            const validity = form.checkValidity()
            if (validity) {
                form.querySelector(".form-footer button").classList.remove("disabled")
                Swal.fire({
                    title: "Konfirmasi",
                    text: "Apakah anda ingin mengirim laporan ini?",
                    icon: "question",
                    showCancelButton: true,
                    showConfirmButton: true,
                    confirmButtonColor: getComputedStyle(document.querySelector(":root"))
                        .getPropertyValue("--brown"),
                    cancelButtonColor: getComputedStyle(document.querySelector(":root"))
                        .getPropertyValue("--danger"),
                    confirmButtonText: "Kirim",
                    cancelButtonText: "Batal"
                }).then((result) => {
                    if (result.isConfirmed) {
                        Swal.fire({
                            title: "Sukses",
                            text: "Laporan berhasil dikirim.",
                            icon: "success",
                            confirmButtonColor: getComputedStyle(document.querySelector(
                                ":root")).getPropertyValue("--brown"),
                        });
                    }
                });
            } else {
                evt.preventDefault()
                let name = form.querySelector("input:invalid").getAttribute("name").replace("file_", "")
                    .replace("b64_", "").replace("score_", "")
                Swal.fire({
                    icon: "warning",
                    title: "Gagal",
                    text: "Lengkapi semua form terlebih dahulu.",
                    confirmButtonColor: getComputedStyle(document.querySelector(":root"))
                        .getPropertyValue("--brown")
                }).then(res => {
                    setTimeout(() => {
                        document.getElementById(`${name}`).scrollIntoView({
                            behavior: 'smooth',
                            block: 'center',
                            inline: 'nearest'
                        })
                    }, 300);
                })
                form.querySelector(".form-footer button").classList.add("disabled")
            }
        })
    </script>


    <script src="./script/main.js"></script>
</body>

</html>